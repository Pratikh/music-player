(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{14:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},38:function(e){e.exports=JSON.parse('{"Smile":[{"name":"Champagne Problems","url":"https://res.cloudinary.com/djcffe77b/video/upload/v1605266304/songs/Champagne_Problems_p35spc.mp3"}],"Smile2":[{"name":"Champagne Problems","url":"https://res.cloudinary.com/djcffe77b/video/upload/v1605266304/songs/Champagne_Problems_p35spc.mp3"}]}')},39:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),i=n.n(o),a=n(15),u=n.n(a),c=(n(29),n(30),n(4)),s=function(e){return e.audioList.currectClicked},l=function(e){return e.audioList.loadedFile},d=function(e){return e.audioVolume.volume},f=function(e){return e.audioList.clickedAudioName},p="ADD_FILES",j="DELETE_FILES",b="CLICKED",v="LOADED_FILES",m="PLAY_PAUSE_BUTTON",h="AUDIO_PROGRESS",O="CURRENT_DURATION",g="REMAINING_DURATION",y="AUIDO_VOLUME",x="CLICKED_AUDIO_NAME";function A(e){return console.log("payload  payloadpayload",e),{type:m,payload:e}}n(14);var k=[{fileName:"first audio",index:1},{fileName:"first audio",index:2},{fileName:"first audio",index:3},{fileName:"first audio",index:4},{fileName:"first audio",index:5},{fileName:"first audio",index:6}];function C(e,t){console.log(this),this.updateClickedAudioItem(e+1),this.playPauseButton(!0),this.currentClickedAudioName(t)}function B(e){var t=this,n=e.props,o=e.files;return console.log(o,n),o.map((function(e){var o=e.fileName,i=e.index;console.log(t);var a=C.bind(n,i,o);return Object(r.jsx)("li",{className:"List",onClick:a,children:o},i)}))}var I=Object(c.b)((function(e){return{files:function(e){return e.fileInput.files}(e)}}),{updateClickedAudioItem:function(e){return console.log(e),{type:b,payload:e}},playPauseButton:A,currentClickedAudioName:function(e){return console.log(e),{type:x,payload:e}}})((function(e){var t={props:e,files:e.files},n={props:e,files:k};return Object(r.jsx)("div",{className:"myBox",children:Object(r.jsx)("ol",{children:B(e.files?t:n)})})})),N=n(3),w=n.n(N),D=n(7),E=n(5),F=n(6),P=n(8),L=n(11),S=n(10),R=n.p+"static/media/folder-open.610cbfaa.svg",U=[];function _(e,t){return new Promise((function(n,r){var o=new FileReader;o.addEventListener("load",(function(){var r=o.result;U.push({fileName:e.name,index:t}),n(r)})),o.addEventListener("error",(function(){r("Something error in file loading :: STATE: ".concat(o.readyState))})),o.readAsDataURL(e)}))}function T(){return(T=Object(D.a)(w.a.mark((function e(t){var n,r,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.files.length;r++)o=t.files.item(r),n.push(_(o,r));return e.next=4,Promise.all(n);case 4:return i=e.sent,window.loadedFiles=i,e.abrupt("return",{loadedFiles:i,fileData:U});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){return T.apply(this,arguments)},V=n(13),H=n.n(V),G=n(38),J=new(function(){function e(){Object(E.a)(this,e),this.loadedAssets=[],window.loadedAssets=this.loadedAssets,window.data=G}return Object(F.a)(e,[{key:"loading",value:function(){var e=Object(D.a)(w.a.mark((function e(t,n){var r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.blob();case 2:r=e.sent,o={name:t,data:r},this.loadedAssets.push(o),console.log("aaa");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadAsset",value:function(){var e=Object(D.a)(w.a.mark((function e(){var t,n,r=this,o=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:H.a.noop,n=[],H.a.forEach(G,(function(e){e.forEach((function(e){var t=e.url,o=e.name,i=r.loading.bind(r,o);n.push(fetch(t,{cache:"force-cache"}).then(i))}))})),e.prev=3,e.next=6,Promise.all(n);case 6:console.log("FETCHED ALL ASSETS"),t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Got this error:::SORRY ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),K=function(e){Object(L.a)(n,e);var t=Object(S.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).fileDialogueRef=i.a.createRef(),r.onButtonClickHandler=r.onButtonClick.bind(Object(P.a)(r)),r.getSelectedFilesBinded=r.getSelectedFiles.bind(Object(P.a)(r)),r.state={filesAdded:!0,files:null},window.assetLoad=J,r}return Object(F.a)(n,[{key:"componentDidMount",value:function(){}},{key:"onButtonClick",value:function(){this.fileDialogueRef.current.click()}},{key:"getSelectedFiles",value:function(){var e=Object(D.a)(w.a.mark((function e(t){var n,r,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,e.next=3,M(n);case 3:r=e.sent,o=r.fileData,i=r.loadedFiles,this.props.addFiles(o),this.props.loadFiles(i),console.log("fileLoader component",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"file",ref:this.fileDialogueRef,style:{display:"none"},src:R,onChange:this.getSelectedFilesBinded,onClick:function(e){e.currentTarget.value=null},multiple:!0,accept:"audio/*"}),Object(r.jsx)("button",{className:"fileButton",onClick:this.onButtonClickHandler,children:"Open File"})]})}}]),n}(i.a.Component),Y=Object(c.b)(null,{addFiles:function(e){return console.log(e),{type:p,payload:{files:e}}},loadFiles:function(e){return{type:v,payload:e}}})(K),q=n.p+"static/media/playButton.c49abbd7.svg",X=n.p+"static/media/pauseButton.cadf7947.svg",z=n(22),Q=new(function(){function e(){Object(E.a)(this,e),this.hawlerInstance=[],this.audioPlayId={},this.audioObjectByIndex={},this.currentAudioId=null}return Object(F.a)(e,[{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.a.noop;return console.log("In play method"),new Promise((function(r,o){var i=new z.Howl({src:e.src,format:"mp4",onloaderror:function(){console.error("Audio file is not loaded"),o()},onplayerror:function(){console.error("On play error"),o()},onplay:function(){console.info("Audio started playing")},onend:function(){console.info("Audio playing completed")},onmute:function(){console.info("Muted")},onseek:function(){console.log("on seek")}}),a=null;i.once("load",(function(){a=i.play(),t.currentAudioId=a,t.audioObjectByIndex[e.index]=i,t.audioPlayId[a]=i,console.log("in load ID",a),n(),r(a)})),i.once("end",(function(){t.onAudioEnd(a)}))}))}},{key:"onAudioEnd",value:function(e){console.log("Audio ended")}},{key:"stop",value:function(e){this.audioPlayId[e].stop(e)}},{key:"stopAll",value:function(){}},{key:"pause",value:function(e){this.audioPlayId[e].pause()}},{key:"resume",value:function(e){this.audioPlayId[e].play()}},{key:"currentAudio",get:function(){return this.audioPlayId[this.currentAudioId]}}]),e}()),W=Q;window.audioPlayer=Q;var Z=function(e){Object(L.a)(n,e);var t=Object(S.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).handleButtonClick=r.clickedOnButton.bind(Object(P.a)(r)),r}return Object(F.a)(n,[{key:"clickedOnButton",value:function(){this.props.playPauseButton(!this.props.toggle),this.props.toggle?W.currentAudio.pause():(W.currentAudio.play(),W.currentAudio.onStartCallBacks&&W.currentAudio.onStartCallBacks())}},{key:"render",value:function(){var e=Object(r.jsx)("img",{src:q,alt:"pause-button"});return this.props.toggle&&(e=Object(r.jsx)("img",{src:X,alt:"play-button"})),Object(r.jsx)("div",{className:"Interaction-button",onClick:this.handleButtonClick,children:e})}}]),n}(i.a.Component),$=Object(c.b)((function(e){return{toggle:e.audioButton.toggle}}),{playPauseButton:A})(Z),ee=n.p+"static/media/previousButton.73c027af.svg",te=function(e){Object(L.a)(n,e);var t=Object(S.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).state={toggle:!0},r.handleButtonClick=r.clickedOnButton.bind(Object(P.a)(r)),r}return Object(F.a)(n,[{key:"clickedOnButton",value:function(){console.log("Clicked",this.props)}},{key:"render",value:function(){var e=Object(r.jsx)("img",{src:ee,alt:"pause-button"});return"next"===this.props.type&&(e=Object(r.jsx)("img",{src:ee,alt:"next-button",style:{transform:"scaleX(-1)"}})),Object(r.jsx)("div",{className:"Interaction-button",onClick:this.handleButtonClick,children:e})}}]),n}(i.a.Component);var ne=Object(c.b)((function(e){return{volume:d(e)}}),{audioVolumeUpdate:function(e){return console.log(e),{type:y,volume:e}}})((function(e){return Object(r.jsxs)("div",{className:"Volume",children:[Object(r.jsx)("input",{type:"range",min:"1",max:"100",value:e.volume,onChange:function(t){var n=t.target,r=n.value/100;e.audioVolumeUpdate(n.value),W.currentAudio&&W.currentAudio.playing()&&W.currentAudio.volume(r)}}),Object(r.jsx)("p",{children:e.volume})]})})),re=n(12),oe=new(n(23).EventEmitter);function ie(){var e=Object(o.useState)(0),t=Object(re.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(e){e.minut;var t=e.seconds;i(t)};return oe.on("audioremainingduration",e),function(){oe.removeListener("audioremainingduration",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function ae(){var e=Object(o.useState)(0),t=Object(re.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(e){var t=e.minut;i(t)};return oe.on("audioremainingduration",e),function(){oe.removeListener("audioremainingduration",e)}}),[i]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function ue(){var e=Object(o.useState)(0),t=Object(re.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(e){var t=e.seconds;i(t)};return oe.on("audiocurrentduration",e),function(){oe.removeListener("audiocurrentduration",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function ce(){var e=Object(o.useState)(0),t=Object(re.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(e){var t=e.minut;i(t)};return oe.on("audiocurrentduration",e),function(){oe.removeListener("audiocurrentduration",e)}}),[i]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function se(e){W.currentAudio&&(!function(){var e=W.currentAudio.seek()*(100/W.currentAudio.duration());oe.emit("updateprogress",e);var t=Math.floor(W.currentAudio.seek()/60)?Math.floor(W.currentAudio.seek()/60):0,n=Math.floor(W.currentAudio.seek()-60*t)?Math.floor(W.currentAudio.seek()-60*t):0,r={minut:t,seconds:n};oe.emit("audiocurrentduration",r),t=Math.floor(W.currentAudio.duration()/60),n=Math.floor(W.currentAudio.duration()-60*t);var o={minut:t,seconds:n};oe.emit("audioremainingduration",o)}(),W.currentAudio.playing()?requestAnimationFrame(se):cancelAnimationFrame(se))}function le(){return(le=Object(D.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W.audioObjectByIndex[t.index],W.currentAudio&&W.currentAudio.pause(),!n){e.next=5;break}return W.currentAudioId=n.play(),e.abrupt("return");case 5:return e.prev=5,e.next=8,W.play(t);case 8:se(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}var de={AudioFilesList:I,FileOpenHandler:Y,PlayButton:$,PreviousAndNextButton:te,Volume:ne,ProgressBar:function(){var e=Object(o.useState)(0),t=Object(re.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(e){i(e)};return oe.on("updateprogress",e),function(){oe.removeListener("updateprogress",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"Progress",children:[Object(r.jsxs)("div",{className:"progressTimer",children:[Object(r.jsx)(ae,{}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)(ie,{})]}),Object(r.jsx)("progress",{type:"range",min:"1.5",max:"100",value:n}),Object(r.jsxs)("div",{className:"progressTimer",children:[Object(r.jsx)(ce,{}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)(ue,{})]})]})})},PlayingAudio:Object(c.b)((function(e){return{currentClickedItem:s(e),getLoadedFiles:l(e),currentAudioName:f(e)}}),{audioProgress:function(e){return console.log("heree"),{type:h,value:e}},audioCurrentDurationUpdate:function(e){return{type:O,currentDurartion:e}},audioRemainingDurationUpdate:function(e){return{type:g,remainingDuration:e}}})((function(e){if(console.log(e),e.currentClickedItem&&e.getLoadedFiles){var t=e.currentClickedItem-1;!function(e){le.apply(this,arguments)}({src:e.getLoadedFiles[t],index:t},{audioProgress:e.audioProgress,audioCurrentDurationUpdate:e.audioCurrentDurationUpdate,audioRemainingDurationUpdate:e.audioRemainingDurationUpdate})}return Object(r.jsx)("div",{children:e.currentAudioName})}))},fe=de.PlayButton,pe=de.PreviousAndNextButton,je=de.FileOpenHandler,be=de.AudioFilesList,ve=de.Volume,me=de.ProgressBar,he=de.PlayingAudio;var Oe=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)(be,{}),Object(r.jsx)(je,{}),Object(r.jsx)(me,{value:"0"}),Object(r.jsx)(ve,{}),Object(r.jsxs)("div",{className:"Audio-Controller",children:[Object(r.jsx)(pe,{type:"previous"}),Object(r.jsx)(fe,{}),Object(r.jsx)(pe,{type:"next"})]}),Object(r.jsx)(he,{})]})})},ge=n(9),ye=n(2),xe={files:null,isFilesLoaded:!1};var Ae={currectClicked:null,loadedFile:null,clickedAudioName:"click on list"};var ke={toggle:!1};var Ce={value:0,currentDurartion:{minut:0,seconds:0},remainingDuration:{minut:0,seconds:0}};var Be={volume:50};var Ie=Object(ge.b)({fileInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(ye.a)(Object(ye.a)({},e),{},{files:r.files});case j:return Object(ye.a)(Object(ye.a)({},e),{},{files:null});default:return e}},audioList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return Object(ye.a)(Object(ye.a)({},e),{},{currectClicked:r});case v:return Object(ye.a)(Object(ye.a)({},e),{},{loadedFile:r});case x:return Object(ye.a)(Object(ye.a)({},e),{},{clickedAudioName:r});default:return e}},audioButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case m:return Object(ye.a)(Object(ye.a)({},e),{},{toggle:r});default:return e}},audioProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.value,o=t.currentDurartion,i=t.remainingDuration;switch(console.log("REDUCER"),n){case h:return Object(ye.a)(Object(ye.a)({},e),{},{value:r});case O:return Object(ye.a)(Object(ye.a)({},e),{},{currentDurartion:o});case g:return Object(ye.a)(Object(ye.a)({},e),{},{remainingDuration:i});default:return e}},audioVolume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.volume;switch(n){case y:return Object(ye.a)(Object(ye.a)({},e),{},{volume:r});default:return e}}}),Ne=Object(ge.c)(Ie);u.a.render(Object(r.jsx)(c.a,{store:Ne,children:Object(r.jsx)(Oe,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.cf45b282.chunk.js.map