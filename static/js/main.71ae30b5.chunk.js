(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{15:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){},41:function(e){e.exports=JSON.parse('{"Bhool Bhulaiyaa (2007)":[{"name":"Alla Hafiz-(Pagalworld.fm).mp3","url":"/Hindi%20Songs/2007/Bhool%20Bhulaiyaa%20%282007%29-Pagalworld.fm/Alla%20Hafiz-%28Pagalworld.fm%29.mp3","index":1},{"name":"Bhool Bhulaiyaa-(Pagalworld.fm).mp3","url":"/Hindi%20Songs/2007/Bhool%20Bhulaiyaa%20%282007%29-Pagalworld.fm/Bhool%20Bhulaiyaa-%28Pagalworld.fm%29.mp3","index":2},{"name":"Labon Ko -(Pagalworld.fm).mp3","url":"/Hindi%20Songs/2007/Bhool%20Bhulaiyaa%20%282007%29-Pagalworld.fm/Labon%20Ko%20-%28Pagalworld.fm%29.mp3","index":3},{"name":"Mere Dholna -(Pagalworld.fm).mp3","url":"/Hindi%20Songs/2007/Bhool%20Bhulaiyaa%20%282007%29-Pagalworld.fm/Mere%20Dholna%20-%28Pagalworld.fm%29.mp3","index":4}]}')},42:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),o=n(16),u=n.n(o),c=(n(32),n(3)),l=(n(38),function(e){return e.fileInput.files}),s=function(e){return e.audioList.currectClicked},d=function(e){return e.audioVolume.volume},f=function(e){return e.audioList.clickedAudioName},p="ADD_FILES",j="DELETE_FILES",h="CLICKED",m="LOADED_FILES",b="PLAY_PAUSE_BUTTON",v="AUDIO_PROGRESS",O="CURRENT_DURATION",g="REMAINING_DURATION",y="AUIDO_VOLUME",x="CLICKED_AUDIO_NAME";function A(e){return{type:p,payload:{files:e}}}function k(e){return{type:h,payload:e}}function B(e){return{type:m,payload:e}}function C(e){return{type:b,payload:e}}function I(e){return{type:x,payload:e}}n(15);var w=[{fileName:"first audio",index:1},{fileName:"second audio",index:2},{fileName:"third audio",index:3},{fileName:"fourth audio",index:4},{fileName:"fifth audio",index:5},{fileName:"sixth audio",index:6}];function N(e,t){this.updateClickedAudioItem(""+(e-1)),this.playPauseButton(!0),this.currentClickedAudioName(t)}function F(e){var t=e.props,n=e.files;console.log(n);var a=1;return n.map((function(e){var n=e.fileName,i=N.bind(t,a,n);return Object(r.jsx)("li",{className:"List",onClick:i,children:n},a++)}))}var P=Object(c.b)((function(e){return{files:l(e)}}),{updateClickedAudioItem:k,playPauseButton:C,currentClickedAudioName:I})((function(e){var t={props:e,files:e.files},n={props:e,files:w},a=e.files?t:n;return Object(r.jsx)("div",{className:"myBox",children:Object(r.jsx)("ol",{children:F(a)})})})),D=n(4),E=n.n(D),S=n(7),L=n(5),R=n(6),T=n(8),H=n(11),U=n(10),M=n.p+"static/media/folder-open.610cbfaa.svg",_=[];function V(e,t){return new Promise((function(n,r){var a=new FileReader;a.addEventListener("load",(function(){var r=a.result;_.push({fileName:e.name,index:t,data:r}),n()})),a.addEventListener("error",(function(){r("Something error in file loading :: STATE: ".concat(a.readyState))})),a.readAsDataURL(e)}))}function K(){return(K=Object(S.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.files.length;r++)a=t.files.item(r),n.push(V(a,r));return e.next=4,Promise.all(n);case 4:return console.log("fileDatafileDatafileDatafileData",_,t.files.length),e.abrupt("return",{fileData:_});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.fileNamesData=_;var G=function(e){return K.apply(this,arguments)},J=function(e){Object(H.a)(n,e);var t=Object(U.a)(n);function n(e){var r;return Object(L.a)(this,n),(r=t.call(this,e)).fileDialogueRef=Object(a.createRef)(),r.onButtonClickHandler=r.onButtonClick.bind(Object(T.a)(r)),r.getSelectedFilesBinded=r.getSelectedFiles.bind(Object(T.a)(r)),r}return Object(R.a)(n,[{key:"onButtonClick",value:function(){this.fileDialogueRef.current.click()}},{key:"getSelectedFiles",value:function(){var e=Object(S.a)(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,console.log("getSelectedFiles"),e.next=4,G(n);case 4:r=e.sent,a=r.fileData,this.props.addFiles(a),console.log("In FileOpenHandler: loaded files",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"file",ref:this.fileDialogueRef,style:{display:"none"},src:M,onChange:this.getSelectedFilesBinded,onClick:function(e){e.currentTarget.value=null},multiple:!0,accept:"audio/*"}),Object(r.jsx)("button",{className:"fileButton",onClick:this.onButtonClickHandler,children:"Open File"})]})}}]),n}(a.Component),z=Object(c.b)(null,{addFiles:A,loadFiles:B})(J),Y=n.p+"static/media/playButton.c49abbd7.svg",q=n.p+"static/media/pauseButton.cadf7947.svg",X=n(13),Q=n.n(X),W=n(25),Z=new(function(){function e(){Object(L.a)(this,e),this.hawlerInstance=[],this.audioPlayId={},this.audioObjectByIndex={},this.currentAudioId=null}return Object(R.a)(e,[{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.a.noop;return console.log("In play method",e),new Promise((function(r,a){var i=new W.Howl({src:e.src,format:"mp4",onloaderror:function(){console.error("Audio file is not loaded"),a("Audio file is not loaded")},onplayerror:function(){console.error("On play error"),a("On play error")},onplay:function(){console.info("Audio started playing")},onend:function(){console.info("Audio playing completed")},onmute:function(){console.info("Muted")},onseek:function(){console.log("on seek")}}),o=null;i.once("load",(function(){o=i.play(),t.currentAudioId=o,t.audioObjectByIndex[e.index]=i,t.audioPlayId[o]=i,console.log("in load ID",o),n(),r(o)})),i.once("end",(function(){t.onAudioEnd(o)}))}))}},{key:"onAudioEnd",value:function(e){console.log("Audio ended")}},{key:"stop",value:function(e){this.audioPlayId[e].stop(e)}},{key:"stopAll",value:function(){}},{key:"pause",value:function(e){this.audioPlayId[e].pause()}},{key:"resume",value:function(e){this.audioPlayId[e].play()}},{key:"currentAudio",get:function(){return this.audioPlayId[this.currentAudioId]}}]),e}()),$=Z;window.audioPlayer=Z;var ee=function(e){Object(H.a)(n,e);var t=Object(U.a)(n);function n(e){var r;return Object(L.a)(this,n),(r=t.call(this,e)).handleButtonClick=r.clickedOnButton.bind(Object(T.a)(r)),r}return Object(R.a)(n,[{key:"clickedOnButton",value:function(){this.props.playPauseButton(!this.props.toggle),this.props.toggle?$.currentAudio.pause():($.currentAudio.play(),$.currentAudio.onStartCallBacks&&$.currentAudio.onStartCallBacks())}},{key:"render",value:function(){var e=Object(r.jsx)("img",{src:Y,alt:"pause-button"});return this.props.toggle&&(e=Object(r.jsx)("img",{src:q,alt:"play-button"})),Object(r.jsx)("div",{className:"Interaction-button",onClick:this.handleButtonClick,children:e})}}]),n}(i.a.Component),te=Object(c.b)((function(e){return{toggle:e.audioButton.toggle}}),{playPauseButton:C})(ee),ne=n.p+"static/media/previousButton.73c027af.svg",re=function(e){Object(H.a)(n,e);var t=Object(U.a)(n);function n(e){var r;return Object(L.a)(this,n),(r=t.call(this,e)).state={toggle:!0},r.handleButtonClick=r.clickedOnButton.bind(Object(T.a)(r)),r}return Object(R.a)(n,[{key:"clickedOnButton",value:function(){var e=this.props.type;console.log("Clicked",this.props),$.currentAudio&&$.currentAudio.pause();var t,n=this.props.currentClickedItem;this.props.currentClickedItem>0&&"next"!==e?n--:this.props.currentClickedItem<this.props.loadedFile.length&&"next"===e&&n++,console.log(n,this.props.currentClickedItem<this.props.loadedFile.length),t=this.props.loadedFile[n].fileName,this.props.updateClickedAudioItem(n),this.props.currentClickedAudioName(t)}},{key:"render",value:function(){var e=Object(r.jsx)("img",{src:ne,alt:"pause-button"});return"next"===this.props.type&&(e=Object(r.jsx)("img",{src:ne,alt:"next-button",style:{transform:"scaleX(-1)"}})),Object(r.jsx)("div",{className:"Interaction-button",onClick:this.handleButtonClick,children:e})}}]),n}(i.a.Component),ae=Object(c.b)((function(e){return{currentClickedItem:s(e),loadedFile:l(e),currentAudioName:f(e)}}),{updateClickedAudioItem:k,currentClickedAudioName:I})(re);var ie=Object(c.b)((function(e){return{volume:d(e)}}),{audioVolumeUpdate:function(e){return{type:y,volume:e}}})((function(e){return Object(r.jsxs)("div",{className:"Volume",children:[Object(r.jsx)("input",{type:"range",min:"1",max:"100",value:e.volume,onChange:function(t){var n=t.target,r=n.value/100;e.audioVolumeUpdate(n.value),$.currentAudio&&$.currentAudio.playing()&&$.currentAudio.volume(r)}}),Object(r.jsx)("p",{children:e.volume})]})})),oe=n(12),ue=new(n(26).EventEmitter);function ce(){var e=Object(a.useState)(0),t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){e.minut;var t=e.seconds;i(t)};return ue.on("audioremainingduration",e),function(){ue.removeListener("audioremainingduration",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function le(){var e=Object(a.useState)(0),t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){var t=e.minut;i(t)};return ue.on("audioremainingduration",e),function(){ue.removeListener("audioremainingduration",e)}}),[i]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function se(){var e=Object(a.useState)(0),t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){var t=e.seconds;i(t)};return ue.on("audiocurrentduration",e),function(){ue.removeListener("audiocurrentduration",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function de(){var e=Object(a.useState)(0),t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){var t=e.minut;i(t)};return ue.on("audiocurrentduration",e),function(){ue.removeListener("audiocurrentduration",e)}}),[i]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:n})})}function fe(){$.currentAudio&&(!function(){var e=$.currentAudio.seek()*(100/$.currentAudio.duration());ue.emit("updateprogress",e);var t=Math.floor($.currentAudio.seek()/60)?Math.floor($.currentAudio.seek()/60):0,n=Math.floor($.currentAudio.seek()-60*t)?Math.floor($.currentAudio.seek()-60*t):0,r={minut:t,seconds:n};ue.emit("audiocurrentduration",r),t=Math.floor($.currentAudio.duration()/60),n=Math.floor($.currentAudio.duration()-60*t);var a={minut:t,seconds:n};ue.emit("audioremainingduration",a)}(),$.currentAudio.playing()?requestAnimationFrame(fe):cancelAnimationFrame(fe))}function pe(){return(pe=Object(S.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$.audioObjectByIndex[t.index],$.currentAudio&&$.currentAudio.pause(),!n){e.next=5;break}return $.currentAudioId=n.play(),e.abrupt("return");case 5:return e.prev=5,e.next=8,$.play(t);case 8:fe(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}var je={AudioFilesList:P,FileOpenHandler:z,PlayButton:te,PreviousAndNextButton:ae,Volume:ie,ProgressBar:function(){var e=Object(a.useState)(0),t=Object(oe.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){i(e)};return ue.on("updateprogress",e),function(){ue.removeListener("updateprogress",e)}}),[n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"Progress",children:[Object(r.jsxs)("div",{className:"progressTimer",children:[Object(r.jsx)(le,{}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)(ce,{})]}),Object(r.jsx)("progress",{type:"range",min:"1.5",max:"100",value:n}),Object(r.jsxs)("div",{className:"progressTimer",children:[Object(r.jsx)(de,{}),Object(r.jsx)("p",{children:":"}),Object(r.jsx)(se,{})]})]})})},PlayingAudio:Object(c.b)((function(e){return{currentClickedItem:s(e),loadedFile:l(e),currentAudioName:f(e)}}))((function(e){if(console.log("In playing function",e.currentClickedItem,!!e.currentClickedItem,!!e.loadedFile),e.currentClickedItem&&e.loadedFile){var t=+e.currentClickedItem,n=e.loadedFile[t],a=n.data,i=n.fileName;console.log(a,t,i),console.log(e.loadedFile,t,i),function(e){pe.apply(this,arguments)}({src:a,index:t})}return Object(r.jsx)("div",{children:e.currentAudioName})}))},he=n(41),me=new(function(){function e(){Object(L.a)(this,e),this.loadedAssets=[],this.fileData=[],this.loadedFiles=[],window.loadedAssets=this.loadedAssets,window.data=he}return Object(R.a)(e,[{key:"consverToBlobData",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){var e=r.result;t(e)})),r.addEventListener("error",(function(){n("Something error in file loading :: STATE: ".concat(r.readyState))})),r.readAsDataURL(e)}))}},{key:"loading",value:function(){var e=Object(S.a)(E.a.mark((function e(t,n,r){var a,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.blob();case 2:return a=e.sent,e.next=5,this.consverToBlobData(a);case 5:i=e.sent,this.fileData.push({fileName:t,data:i});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadAsset",value:function(){var e=Object(S.a)(E.a.mark((function e(){var t,n,r=this,a=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:Q.a.noop,n=[],Q.a.forEach(he,(function(e){e.forEach((function(e){var t=e.url,a=e.name,i=e.index,o=r.loading.bind(r,a,i);n.push(fetch(t,{cache:"force-cache"}).then(o))}))})),e.prev=3,e.next=6,Promise.all(n);case 6:console.log("FETCHED ALL ASSETS"),t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Got this error:::SORRY ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),be=je.PlayButton,ve=je.PreviousAndNextButton,Oe=je.FileOpenHandler,ge=je.AudioFilesList,ye=je.Volume,xe=je.ProgressBar,Ae=je.PlayingAudio;var ke=Object(c.b)(null,{addFiles:A,loadFiles:B})((function(e){return me.loadAsset((function(){e.addFiles(me.fileData)})),Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)(ge,{}),Object(r.jsx)(Oe,{}),Object(r.jsx)(xe,{value:"0"}),Object(r.jsx)(ye,{}),Object(r.jsxs)("div",{className:"Audio-Controller",children:[Object(r.jsx)(ve,{type:"previous"}),Object(r.jsx)(be,{}),Object(r.jsx)(ve,{type:"next"})]}),Object(r.jsx)(Ae,{})]})})})),Be=n(9),Ce=n(23),Ie=n(2),we={files:[],isFilesLoaded:!1};var Ne={currectClicked:"",loadedFile:null,clickedAudioName:"click on list"};var Fe={toggle:!1};var Pe={value:0,currentDurartion:{minut:0,seconds:0},remainingDuration:{minut:0,seconds:0}};var De={volume:50};var Ee=Object(Be.b)({fileInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(Ie.a)(Object(Ie.a)({},e),{},{files:[].concat(Object(Ce.a)(e.files),Object(Ce.a)(r.files))});case j:return Object(Ie.a)(Object(Ie.a)({},e),{},{files:null});default:return e}},audioList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case h:return Object(Ie.a)(Object(Ie.a)({},e),{},{currectClicked:r});case m:return Object(Ie.a)(Object(Ie.a)({},e),{},{loadedFile:r});case x:return Object(Ie.a)(Object(Ie.a)({},e),{},{clickedAudioName:r});default:return e}},audioButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return Object(Ie.a)(Object(Ie.a)({},e),{},{toggle:r});default:return e}},audioProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.value,a=t.currentDurartion,i=t.remainingDuration;switch(n){case v:return Object(Ie.a)(Object(Ie.a)({},e),{},{value:r});case O:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentDurartion:a});case g:return Object(Ie.a)(Object(Ie.a)({},e),{},{remainingDuration:i});default:return e}},audioVolume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.volume;switch(n){case y:return Object(Ie.a)(Object(Ie.a)({},e),{},{volume:r});default:return e}}}),Se=Object(Be.c)(Ee);u.a.render(Object(r.jsx)(c.a,{store:Se,children:Object(r.jsx)(ke,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.71ae30b5.chunk.js.map